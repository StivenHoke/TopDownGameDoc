基于第10节的分析，我们来过一遍设计的流程。

因为Widget要能接受到WidgetController的数据，所以我们应该在Widget里面设置一个WidgetController的对象，然后写一个能够传入WidgetController的函数并设置我们的对象。因为我们以后的Widget都可以接受数据，所以我们的BP_Widget应该都继承于它；


Widget设计好了，就设计WidgetController。它主要负责接受Model的数据就可以，也没有其他特别的要求，所以继承自UObject就可以了；我们希望它能接受4个主要类的数据，所以就设置4个主要类的指针，然后同理，设置一个能传入4个参数的函数，并对指针进行赋值；由于参数往往要层层传递，对于这种对参数传递，我们设置一个结构体，为了代码的简洁；


这两个类设计好了，我们需要有一个地方将类对他们进行实例化吧；对于UI相关的，我们就把他们写在HUD类里面。我们在HUD中实例化这两个类，**Widget类系统本来就包装了实例化的方法，但对于我们自创的WidgetController可没有，所以我们需要在HUD中**写一个关于WidgetController实例化的方法，这个函数自然要传入结构体类初始化我们的Controller里面的数据。而且因为OvelayWigetController的特殊要求，我们只能创建一个实例，所以写函数时要注意是否已经被创建对象，创建了对象该返回这个对象，而不是再继续实例化一个；


现在两个类都有实例化的方法，Widget也有了设置Controller的方法，Controller也有了设置数据的方法，我们需要实例化他们，并进行设置。所以在HUD类中写一个函数，可以传入4个参数的函数，这里就将他们实例化，然后设置的设置，准备妥当，就将它放到一个游戏开始能传入4个参数，并且能运行函数的地方；
